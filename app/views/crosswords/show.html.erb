
<% content_for(:title) { "##{@crossword.number}" } %>

<% content_for :head do %>
  <script src="https://cdn.jsdelivr.net/npm/@tsparticles/confetti@3.8.1/tsparticles.confetti.bundle.min.js"></script>
<% end %>

<%=
  render PuzzleComponent.new(crossword: @crossword, answer: @answer) do |puzzle|
    puzzle.with_newer_link(href: crossword_path(@next), disabled: @crossword == @latest)
    puzzle.with_older_link(href: crossword_path(@previous))
    puzzle.with_random_link(href: crossword_path(@random))

    puzzle.with_crossword(crossword: @crossword, active_entry: params[:entry])

    puzzle.with_cluebar do |cluebar|
      @crossword.entries.each do |entry|
        cluebar.with_clue(**entry.slice(:id, :clue, :number, :direction))
      end
    end

    puzzle.with_cluesheet do |cluesheet|
      @crossword.entries.each do |entry|
        cluesheet.with_clue(**entry.slice(:id, :clue, :number, :direction))
      end
    end

    puzzle.with_keyboard
  end
%>

<% content_for(:title) { "##{@crossword.number}" } %>

<% content_for :head do %>
  <script src="https://cdn.jsdelivr.net/npm/@tsparticles/confetti@3.8.1/tsparticles.confetti.bundle.min.js"></script>
<% end%>

<%= render PuzzleComponent.new(id: @crossword.id, entries: @crossword.entries) do |puzzle| %>
  <% puzzle.with_header do %>
    <%= render HeaderComponent.new(number: @crossword.number, date: @crossword.date) do |header| %>
      <% header.with_newer_link(href: crossword_path(@crossword.style, @next_number), disabled: @number == @latest_number) %>
      <% header.with_older_link(href: crossword_path(@crossword.style, @previous_number)) %>
    <% end %>
  <% end %>

  <% puzzle.with_board do %>
    <%= render CrosswordComponent.new(crossword: @crossword) %>
  <% end %>

  <% puzzle.with_cluebar do %>
    <%= render CluebarComponent.new do |cluebar| %>
      <% @crossword.entries.each do |entry| %>
        <% cluebar.with_clue(**entry.slice(:id, :clue, :number, :direction)) %>
      <% end %> 
    <% end %>
  <% end %>

  <% puzzle.with_keyboard do %>
    <%= render KeyboardComponent.new %>
  <% end %>
<% end %>